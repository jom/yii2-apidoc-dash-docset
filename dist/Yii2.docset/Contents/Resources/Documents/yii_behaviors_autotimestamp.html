<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="language" content="en" />
<link href="./assets/4138e429/api.css" rel="stylesheet">
<link href="./assets/4138e429/style.css" rel="stylesheet">
<script src="./assets/a91b37a6/jquery.js"></script><title>Yii Framework 2.0 API Documentation</title>
</head>

<body>
	<div id="apiPage">

		<div id="apiHeader">
			<a href="http://www.yiiframework.com">Yii Framework</a> v2.0.0-dev Class Reference
		</div><!-- end of header -->

		<div id="content">
		<h1>Class yii\behaviors\AutoTimestamp</h1>
<div id="nav">
	<a href="index.html">All Classes</a>
			| <a href="#properties">Properties</a>
				| <a href="#methods">Methods</a>
			</div>

<table class="summaryTable docClass">
	<colgroup>
		<col class="col-name" />
		<col class="col-value" />
	</colgroup>
			<tr><th>Inheritance</th><td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a> &raquo;
<a href="yii_base_behavior.html">yii\base\Behavior</a> &raquo;
<a href="yii_base_object.html">yii\base\Object</a></td></tr>
				<tr><th>Implements</th><td><a href="yii_base_arrayable.html">yii\base\Arrayable</a></td></tr>
								<tr><th>Available since version</th><td>2.0</td></tr>
		<tr>
	  <th>Source Code</th>
	  <td></td>
	</tr>
</table>

<div id="classDescription">
	<strong>AutoTimestamp will automatically fill the attributes about creation time and updating time.</strong>
	<p>AutoTimestamp fills the attributes when the associated AR model is being inserted or updated.
You may specify an AR to use this behavior like the following:</p>

<pre><code>public function behaviors()
{
    return [
        'timestamp' =&gt; ['class' =&gt; 'yii\behaviors\AutoTimestamp'],
    ];
}
</code></pre>

<p>By default, AutoTimestamp will fill the <code>created_at</code> attribute with the current timestamp
when the associated AR object is being inserted; it will fill the <code>updated_at</code> attribute
with the timestamp when the AR object is being updated.</p>
</div>

<a name="properties"></a>

<div class="summary docProperty">
<h2>Public Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-property" />
	<col class="col-type" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
		<tr class="inherited" id="$owner">
		<td><a href="yii_base_behavior.html#$owner-detail">$owner</a></td>
		<td><a href="yii_base_component.html">yii\base\Component</a></td>
		<td>The owner of this behavior</td>
		<td><a href="yii_base_behavior.html">yii\base\Behavior</a></td>
	</tr>
			<tr id="$attributes">
		<td><a href="yii_behaviors_autotimestamp.html#$attributes-detail">$attributes</a></td>
		<td>array</td>
		<td>List of attributes that are to be automatically filled with timestamps</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
			<tr id="$timestamp">
		<td><a href="yii_behaviors_autotimestamp.html#$timestamp-detail">$timestamp</a></td>
		<td>\Closure|<a href="yii_db_expression.html">yii\db\Expression</a></td>
		<td>The expression that will be used for generating the timestamp</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
	</table>
</div>
<a name="methods"></a>

<div class="summary docMethod">
<h2>Public Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
		<tr class="inherited" id="className()">
		<td><a href="yii_base_object.html#className()-detail">className()</a></td>
		<td></td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__construct()">
		<td><a href="yii_base_object.html#__construct()-detail">__construct()</a></td>
		<td>Constructor.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="init()">
		<td><a href="yii_base_object.html#init()-detail">init()</a></td>
		<td>Initializes the object.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__get()">
		<td><a href="yii_base_object.html#__get()-detail">__get()</a></td>
		<td>Returns the value of an object property.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__set()">
		<td><a href="yii_base_object.html#__set()-detail">__set()</a></td>
		<td>Sets value of an object property.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__isset()">
		<td><a href="yii_base_object.html#__isset()-detail">__isset()</a></td>
		<td>Checks if the named property is set (not null).</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__unset()">
		<td><a href="yii_base_object.html#__unset()-detail">__unset()</a></td>
		<td>Sets an object property to null.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="__call()">
		<td><a href="yii_base_object.html#__call()-detail">__call()</a></td>
		<td>Calls the named method which is not a class method.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="hasProperty()">
		<td><a href="yii_base_object.html#hasProperty()-detail">hasProperty()</a></td>
		<td>Returns a value indicating whether a property is defined.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="canGetProperty()">
		<td><a href="yii_base_object.html#canGetProperty()-detail">canGetProperty()</a></td>
		<td>Returns a value indicating whether a property can be read.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="canSetProperty()">
		<td><a href="yii_base_object.html#canSetProperty()-detail">canSetProperty()</a></td>
		<td>Returns a value indicating whether a property can be set.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="hasMethod()">
		<td><a href="yii_base_object.html#hasMethod()-detail">hasMethod()</a></td>
		<td>Returns a value indicating whether a method is defined.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr class="inherited" id="toArray()">
		<td><a href="yii_base_object.html#toArray()-detail">toArray()</a></td>
		<td>Converts the object into an array.</td>
		<td><a href="yii_base_object.html">yii\base\Object</a></td>
	</tr>
			<tr id="events()">
		<td><a href="yii_behaviors_autotimestamp.html#events()-detail">events()</a></td>
		<td>Declares event handlers for the <a href="yii_base_behavior.html#$owner-detail">$owner</a>'s events.</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
			<tr class="inherited" id="attach()">
		<td><a href="yii_base_behavior.html#attach()-detail">attach()</a></td>
		<td>Attaches the behavior object to the component.</td>
		<td><a href="yii_base_behavior.html">yii\base\Behavior</a></td>
	</tr>
			<tr class="inherited" id="detach()">
		<td><a href="yii_base_behavior.html#detach()-detail">detach()</a></td>
		<td>Detaches the behavior object from the component.</td>
		<td><a href="yii_base_behavior.html">yii\base\Behavior</a></td>
	</tr>
			<tr id="updateTimestamp()">
		<td><a href="yii_behaviors_autotimestamp.html#updateTimestamp()-detail">updateTimestamp()</a></td>
		<td>Updates the attributes with the current timestamp.</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
				<tr id="touch()">
		<td><a href="yii_behaviors_autotimestamp.html#touch()-detail">touch()</a></td>
		<td>Updates a timestamp attribute to the current timestamp.</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
	</table>
</div>
<div class="summary docMethod">
<h2>Protected Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
																			<tr id="evaluateTimestamp()">
		<td><a href="yii_behaviors_autotimestamp.html#evaluateTimestamp()-detail">evaluateTimestamp()</a></td>
		<td>Gets the current timestamp.</td>
		<td><a href="yii_behaviors_autotimestamp.html">yii\behaviors\AutoTimestamp</a></td>
	</tr>
		</table>
</div>
<a name="events"></a>

<a name="constants"></a>

<h2>Property Details</h2>


	<div class="detailHeader" id="$attributes-detail">
		$attributes		<span class="detailHeaderTag">
			property
											</span>
	</div>

	<div class="signature">
	array $attributes = [\yii\db\ActiveRecord::EVENT_BEFORE_INSERT => 'created_at', \yii\db\ActiveRecord::EVENT_BEFORE_UPDATE => 'updated_at']	</div>

	<p>List of attributes that are to be automatically filled with timestamps.
The array keys are the ActiveRecord events upon which the attributes are to be filled with timestamps,
and the array values are the corresponding attribute(s) to be updated. You can use a string to represent
a single attribute, or an array to represent a list of attributes.
The default setting is to update the <code>created_at</code> attribute upon AR insertion,
and update the <code>updated_at</code> attribute upon AR updating.</p>

	

	<div class="detailHeader" id="$timestamp-detail">
		$timestamp		<span class="detailHeaderTag">
			property
											</span>
	</div>

	<div class="signature">
	\Closure|<a href="yii_db_expression.html">yii\db\Expression</a> $timestamp = null	</div>

	<p>The expression that will be used for generating the timestamp.
This can be either an anonymous function that returns the timestamp value,
or an <a href="yii_db_expression.html">yii\db\Expression</a> object representing a DB expression (e.g. <code>new Expression('NOW()')</code>).
If not set, it will use the value of <code>time()</code> to fill the attributes.</p>

	
<h2>Method Details</h2>


	<div class="detailHeader" id="events()-detail">
		events()
		<span class="detailHeaderTag">
			method
					</span>
	</div>

	<table class="summaryTable">
		<tr><td colspan="3">
			<div class="signature2">
			array <a href="yii_behaviors_autotimestamp.html#events()-detail">events</a>(  )			</div>
		</td></tr>
												<tr>
				  <td class="paramNameCol">return</td>
				  <td class="paramTypeCol">array</td>
				  <td class="paramDescCol">events (array keys) and the corresponding event handler methods (array values).</td>
				</tr>
									</table>

<!--	-->
	<p>Declares event handlers for the <a href="yii_base_behavior.html#$owner-detail">$owner</a>'s events.</strong></p>
	<p></p>

	

	<div class="detailHeader" id="updateTimestamp()-detail">
		updateTimestamp()
		<span class="detailHeaderTag">
			method
					</span>
	</div>

	<table class="summaryTable">
		<tr><td colspan="3">
			<div class="signature2">
			void <a href="yii_behaviors_autotimestamp.html#updateTimestamp()-detail">updateTimestamp</a>( $event )			</div>
		</td></tr>
									<tr>
				  <td class="paramNameCol">$event</td>
				  <td class="paramTypeCol"><a href="yii_base_event.html">yii\base\Event</a></td>
				  <td class="paramDescCol"></td>
				</tr>
												</table>

<!--	-->
	<p>Updates the attributes with the current timestamp.</strong></p>
	<p></p>

	

	<div class="detailHeader" id="evaluateTimestamp()-detail">
		evaluateTimestamp()
		<span class="detailHeaderTag">
			method
					</span>
	</div>

	<table class="summaryTable">
		<tr><td colspan="3">
			<div class="signature2">
			mixed <a href="yii_behaviors_autotimestamp.html#evaluateTimestamp()-detail">evaluateTimestamp</a>(  )			</div>
		</td></tr>
												<tr>
				  <td class="paramNameCol">return</td>
				  <td class="paramTypeCol">mixed</td>
				  <td class="paramDescCol">the timestamp value</td>
				</tr>
									</table>

<!--	-->
	<p>Gets the current timestamp.</strong></p>
	<p></p>

	

	<div class="detailHeader" id="touch()-detail">
		touch()
		<span class="detailHeaderTag">
			method
					</span>
	</div>

	<table class="summaryTable">
		<tr><td colspan="3">
			<div class="signature2">
			void <a href="yii_behaviors_autotimestamp.html#touch()-detail">touch</a>( $attribute )			</div>
		</td></tr>
									<tr>
				  <td class="paramNameCol">$attribute</td>
				  <td class="paramTypeCol">string</td>
				  <td class="paramDescCol">The name of the attribute to update.</td>
				</tr>
												</table>

<!--	-->
	<p>Updates a timestamp attribute to the current timestamp.</strong></p>
	<p><code>php
$model-&gt;touch('lastVisit');</code></p>

	
			</div><!-- end of content -->

		<div id="apiFooter">
			<p>&copy; 2008-2013 by <a href="http://www.yiisoft.com">Yii Software LLC</a></p>
			<p>All Rights Reserved.</p>
		</div><!-- end of footer -->

<script type="text/javascript">
/*<![CDATA[*/
$("a.toggle").on('click', function() {
	var $this = $(this);
	if ($this.hasClass('properties-hidden')) {
		$this.text($this.text().replace(/Show/,'Hide'));
		$this.parents(".summary").find(".inherited").show();
		$this.removeClass('properties-hidden');
	} else {
		$this.text($this.text().replace(/Hide/,'Show'));
		$this.parents(".summary").find(".inherited").hide();
		$this.addClass('properties-hidden');
	}
	return false;
});
/*
$(".sourceCode a.show").toggle(function(){
	$(this).text($(this).text().replace(/show/,'hide'));
	$(this).parents(".sourceCode").find("div.code").show();
},function(){
	$(this).text($(this).text().replace(/hide/,'show'));
	$(this).parents(".sourceCode").find("div.code").hide();
});
$("a.sourceLink").click(function(){
	$(this).attr('target','_blank');
});
*/
/*]]>*/
</script>

	</div><!-- end of page -->
</body>
</html>
